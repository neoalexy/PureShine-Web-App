(function(){"use strict";var t={168:function(t,e,a){var s=a(144),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("nav",[e("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),e("router-link",{attrs:{to:"/oprema"}},[t._v("Oprema")]),t._v(" | "),e("router-link",{attrs:{to:"/rezervacija-usluge"}},[t._v("Rezervacija usluge")]),t._v(" | "),t.token?[e("router-link",{on:{click:function(e){return t.logout()}}},[t._v("Log Out")])]:[e("router-link",{attrs:{to:"/register"}},[t._v("Register")]),t._v(" | "),e("router-link",{attrs:{to:"/login"}},[t._v("Log In")])]],2),e("router-view")],1)},n=[],o=a(629),l={computed:{...(0,o.rn)(["token"])},methods:{...(0,o.OI)(["removeToken","setToken"]),logout(){this.removeToken()}},mounted(){localStorage.token&&this.setToken(localStorage.token)}},i=l,u=a(1),c=(0,u.Z)(i,r,n,!1,null,null,null),m=c.exports,p=a(345),d=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("img",{staticClass:"logo",attrs:{src:a(698),alt:"Logo"}}),e("div",{staticClass:"pagination"},[e("button",{on:{click:function(e){return t.prev()}}},[t._v("Prethodno")]),e("button",{on:{click:function(e){return t.next()}}},[t._v("Sledece")])]),t.sveUslugeIDs?e("UslugeList",{attrs:{uslugeIDs:t.sveUslugeIDs.slice(11*t.current,11*t.current+11)}}):e("p",[t._v("Lista joÅ¡ nije spremna")])],1)},f=[],g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("h1",[t._v(t._s(t.title))])])},h=[],v={name:"AppHeader",props:{title:String}},b=v,k=(0,u.Z)(b,g,h,!1,null,"0bdc4c6a",null),_=k.exports,j=function(){var t=this,e=t._self._c;return e("div",t._l(t.usluge,(function(t){return e("UslugaSingle",{key:t.id,attrs:{usluga:t}})})),1)},w=[],y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"usluga",on:{click:function(e){return t.kliknutaUsluga(t.usluga.id)}}},[t.usluga.slika?e("img",{attrs:{src:"http://localhost:9000/"+t.usluga.slika}}):t._e(),e("h3",[t._v(t._s(t.usluga.naziv)+" ")])])},P=[],U={name:"UslugaSingle",props:{usluga:Object},methods:{kliknutaUsluga(t){this.$router.push({name:"Usluga",params:{id:t}})}}},S=U,z=(0,u.Z)(S,y,P,!1,null,"756122df",null),C=z.exports,O={name:"UslugeList",components:{UslugaSingle:C},data(){return{usluge:[]}},props:{uslugeIDs:Array},mounted(){this.uslugeIDs.map((t=>{fetch(`http://localhost:9000/usluga/${t.id}`).then((t=>t.json())).then((t=>this.usluge.push(t)))}))},methods:{...(0,o.nv)(["getUsluga"])},watch:{studentiIDs(t){this.usluge=[],t.map((t=>{fetch(`http://localhost:9000/usluga/${t.id}`).then((t=>t.json())).then((t=>this.usluge.push(t)))}))}}},x=O,T=(0,u.Z)(x,j,w,!1,null,"8980827e",null),I=T.exports,D={name:"App",components:{Header:_,UslugeList:I},data(){return{sveUslugeIDs:null,current:0}},methods:{...(0,o.nv)(["fetchSveUsluge"]),next(){this.sveUslugeIDs&&11*this.current<this.sveUslugeIDs.length&&(this.current++,console.log("Next: ",this.current))},prev(){this.current>0&&(this.current--,console.log("Prev: ",this.current))},getCurrentUslugeIDs(){return this.sveUslugeIDs?this.sveUslugeIDs.slice(11*this.current,11*this.current+11):[]}},mounted(){fetch("http://localhost:9000/usluga/").then((t=>t.json())).then((t=>{this.sveUslugeIDs=t,console.log("Broj stranica: ",Math.ceil(t.length/11))})),this.fetchSveUsluge(),this.$store.dispatch("fetchSveUsluge")}},$=D,Z=(0,u.Z)($,d,f,!1,null,null,null),H=Z.exports,L=function(){var t=this,e=t._self._c;return e("div",[t.usluga?e("div",[e("div",{attrs:{id:"usluga"}},[e("Header",{attrs:{title:t.usluga.naziv}}),t.usluga.slika?e("img",{staticClass:"slika",attrs:{src:"http://localhost:9000/"+t.usluga.slika}}):e("p",[t._v("Nema slike")])],1),e("div",{staticClass:"info"},[e("h3",[t._v("Detalji usluge:")]),t.usluga.opis?e("div",[e("p",[t._v(t._s(t.usluga.opis)+" ")])]):t._e(),e("h3",[t._v("Kategorija usluge:")]),t.usluga.kategorija_id?e("div",[e("p",[t._v(t._s(t.mapaKategorije[t.usluga.kategorija_id]))])]):t._e(),e("h3",[t._v("Cena usluge:")]),t.usluga.cena?e("div",[e("p",[t._v(t._s(t.usluga.cena)+" RSD ")])]):e("div",[e("p",[t._v("Cena: "+t._s(t.usluga.cena)+" RSD")])])])]):e("div",[t._v(" Loading... ")])])},A=[],R={name:"Usluga",components:{Header:_},data(){return{usluga:null,mapaKategorije:{1:"Kuca",2:"Stan",3:"Poslovni prostor"}}},methods:{...(0,o.nv)(["getUsluga"])},mounted(){this.getUsluga(this.$route.params.id).then((t=>{this.usluga=t}))}},V=R,E=(0,u.Z)(V,L,A,!1,null,"94cfecfa",null),N=E.exports,q=function(){var t=this,e=t._self._c;return e("div",[e("Header",{attrs:{title:"Oprema koju koriste nasi zaposleni"}}),e("b-pagination",{attrs:{total_rows:this.oprema.length,"per-page":t.perPage,"aria-controls":"tabelaOprema"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),e("b-table",{attrs:{striped:"",hover:"",items:this.oprema,fields:t.fields,"per-page":t.perPage,currentPage:t.currentPage,id:"tabelaOprema"}})],1)},K=[],J={name:"Oprema",components:{Header:_},data(){return{fields:[{key:"naziv",sortable:!0,label:"Oprema"}],perPage:10,currentPage:1}},computed:{...(0,o.rn)(["oprema"])},methods:{...(0,o.nv)(["fetchOprema"])},mounted(){this.fetchOprema()}},M=J,B=(0,u.Z)(M,q,K,!1,null,null,null),F=B.exports,G=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("img",{staticClass:"logo",attrs:{src:a(698),alt:"Logo"}}),e("Header",{attrs:{title:t.headerTitle}}),e("b-alert",{attrs:{variant:t.statusnaPorukaTip,show:null!=t.statusnaPoruka}},[t._v(" "+t._s(t.statusnaPoruka)+" ")]),e("div",[e("b-container",{attrs:{fluid:""}},[e("b-row",[e("b-col",{attrs:{sm:"3"}},[e("label",{attrs:{for:"ime"}},[t._v("Ime i Prezime")])]),e("b-col",{attrs:{sm:"9"}},[e("b-form-input",{staticClass:"input-stil",attrs:{id:"ime",state:t.validnoIme},model:{value:t.forma.ime,callback:function(e){t.$set(t.forma,"ime",e)},expression:"forma.ime"}})],1)],1),e("b-row",[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Adresa")])]),e("b-col",{attrs:{sm:"9"}},[e("b-form-input",{staticClass:"input-stil",attrs:{id:"adresa",state:t.validnaAdresa},model:{value:t.forma.adresa,callback:function(e){t.$set(t.forma,"adresa",e)},expression:"forma.adresa"}})],1)],1),e("b-row",[e("b-col",{attrs:{sm:"3"}},[e("label",{attrs:{for:"telefon"}},[t._v("Telefon")])]),e("b-col",{attrs:{sm:"9"}},[e("b-form-input",{staticClass:"input-stil",attrs:{id:"telefon",state:t.validanTelefon},model:{value:t.forma.telefon,callback:function(e){t.$set(t.forma,"telefon",e)},expression:"forma.telefon"}})],1)],1),e("b-row",[e("b-col",{attrs:{sm:"3"}},[e("label",{attrs:{for:"zakazano-vreme"}},[t._v("Zakazano vreme")])]),e("b-col",{attrs:{sm:"9"}},[e("b-form-datepicker",{staticClass:"input-stil",attrs:{id:"zakazano-vreme",state:t.validnoZakazanoVreme},model:{value:t.forma.zakazanoVreme,callback:function(e){t.$set(t.forma,"zakazanoVreme",e)},expression:"forma.zakazanoVreme"}})],1)],1),e("b-row",[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Unesite naziv usluge kao i dodatne informacije ili napomene:")])]),e("b-col",{attrs:{sm:"9"}},[e("b-form-textarea",{staticClass:"input-stil",attrs:{id:"textarea",state:t.validnaPrijava,rows:"4"},model:{value:t.forma.prijava,callback:function(e){t.$set(t.forma,"prijava",e)},expression:"forma.prijava"}})],1)],1)],1),e("b-button",{staticClass:"btn-stil",attrs:{variant:"primary"},on:{click:function(e){return t.posalji()}}},[t._v("Posalji upit")])],1)],1)},X=[],Q={name:"App",components:{Header:_},data(){return{headerTitle:"Rezervisite nasu uslugu",statusnaPoruka:null,statusnaPorukaTip:null,forma:{ime:null,adresa:null,telefon:null,zakazanoVreme:null,usluga:null,prijava:null}}},computed:{validnoIme(){return null==this.forma.ime?null:this.forma.ime.length>2},validnaAdresa(){return null==this.forma.adresa?null:!!(this.forma.adresa.length>10&&/\d/.test(this.forma.adresa))},validanTelefon(){return null==this.forma.telefon?null:9===this.forma.telefon.length||10===this.forma.telefon.length},validnoZakazanoVreme(){return null!=this.forma.zakazanoVreme||null},validnaUsluga(){return null!=this.forma.usluga||null},validnaPrijava(){return null==this.forma.prijava?null:this.forma.prijava.length>2}},methods:{posalji(){this.validnoIme&&this.validnaAdresa&&this.validanTelefon&&this.validnoZakazanoVreme&&this.validnaUsluga&&fetch("http://localhost:9000/rezervacija-uslugee",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(this.forma)}).then((t=>t.json())).then((t=>{console.log(t),t.error?(this.statusnaPoruka=t.error,this.statusnaPorukaTip="danger"):(this.statusnaPoruka="Upit za rezervaciju usluge je uspesno poslat",this.statusnaPorukaTip="success")}))}}},W=Q,Y=(0,u.Z)(W,G,X,!1,null,null,null),tt=Y.exports,et=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Header",{attrs:{title:"Log In"}}),e("br"),e("b-form",{on:{submit:t.onSubmit}},[e("b-form-group",{staticClass:"input",attrs:{label:"User Name:","label-for":"name"}},[e("br"),e("b-form-input",{staticClass:"sminput",attrs:{id:"name",placeholder:"Enter name",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("br"),e("b-form-group",{staticClass:"input",attrs:{label:"Password:","label-for":"password"}},[e("br"),e("b-form-input",{staticClass:"sminput",attrs:{id:"password",type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),e("br"),e("b-button",{staticClass:"logbtn",attrs:{type:"submit",variant:"primary"}},[t._v("Login")])],1)],1)},at=[],st={name:"Login",components:{Header:_},data(){return{form:{username:"",password:""}}},methods:{...(0,o.nv)(["login"]),onSubmit(t){t.preventDefault(),this.login(this.form),this.$router.push({name:"Home"})}}},rt=st,nt=(0,u.Z)(rt,et,at,!1,null,"538eb558",null),ot=nt.exports,lt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Header",{attrs:{title:"Create account"}}),e("b-form",{on:{submit:t.onSubmit}},[e("b-form-group",{staticClass:"input",attrs:{label:"Email address:","label-for":"email"}},[e("br"),e("b-form-input",{staticClass:"sminput",attrs:{id:"email",type:"email",placeholder:"Enter email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),e("br")],1),e("b-form-group",{staticClass:"input",attrs:{label:"User Name:","label-for":"name"}},[e("br"),e("b-form-input",{staticClass:"sminput",attrs:{id:"name",placeholder:"Enter name",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),e("br")],1),e("b-form-group",{staticClass:"input",attrs:{label:"Password:","label-for":"password"}},[e("br"),e("b-form-input",{staticClass:"sminput",attrs:{id:"password",type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),e("br")],1),e("br"),e("b-button",{staticClass:"logbtn",attrs:{type:"submit",variant:"primary"}},[t._v("Register")])],1)],1)},it=[],ut={name:"Register",components:{Header:_},data(){return{form:{email:"",name:"",password:""}}},methods:{...(0,o.nv)(["register"]),onSubmit(t){t.preventDefault(),this.register(this.form),this.$router.push({name:"Home"})}}},ct=ut,mt=(0,u.Z)(ct,lt,it,!1,null,"299ac457",null),pt=mt.exports;s["default"].use(p.ZP);const dt=[{path:"/",name:"home",component:H},{path:"/usluga/:id",name:"Usluga",component:N},{path:"/oprema",name:"Oprema",component:F},{path:"/rezervacija-usluge",name:"Rezervacija",component:tt},{path:"/login",name:"Login",component:ot},{path:"/register",name:"Register",component:pt}],ft=new p.ZP({mode:"history",base:"/",routes:dt});var gt=ft,ht=a(657),vt=a(17);a(24);s["default"].use(o.ZP);var bt=new o.ZP.Store({state:{oprema:[],usluge:[],sveUslugeIDs:[],token:""},getters:{},mutations:{addOprema(t,e){t.oprema=e},addUsluga(t,e){t.usluge[e.id]=e},addSveUslugeIDs(t,e){t.sveUslugeIDs=e},setToken(t,e){t.token=e,localStorage.token=e},removeToken(t){t.token="",localStorage.token=""}},actions:{async fetchOprema({commit:t}){fetch("http://localhost:9000/oprema/").then((t=>t.json())).then((e=>t("addOprema",e)))},async getUsluga({commit:t,state:e},a){return new Promise(((s,r)=>{e.usluge[a]?s(e.usluge[a]):fetch(`http://localhost:9000/usluga/${a}`).then((t=>t.json())).then((e=>{t("addUsluga",e),s(e)}))}))},async fetchSveUsluge({commit:t}){fetch("http://localhost:9000/usluga/").then((t=>t.json())).then((e=>t("addSveUslugeIDs",e)))},async register({commit:t},e){try{const a=await fetch("http://127.0.0.1:9001/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await a.json();t("setToken",s.token)}catch(a){console.error("Error:",a)}},async login({commit:t},e){try{const a=await fetch("http://127.0.0.1:9001/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await a.json();s.msg?alert(s.msg):t("setToken",s.token)}catch(a){console.error("Error:",a)}}},modules:{}});s["default"].use(ht.XG7),s["default"].use(vt.A7),s["default"].config.productionTip=!1,new s["default"]({router:gt,store:bt,render:function(t){return t(m)}}).$mount("#app")},698:function(t,e,a){t.exports=a.p+"img/PureShine-logo.02777f36.png"}},e={};function a(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,r,n){if(!s){var o=1/0;for(c=0;c<t.length;c++){s=t[c][0],r=t[c][1],n=t[c][2];for(var l=!0,i=0;i<s.length;i++)(!1&n||o>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[i])}))?s.splice(i--,1):(l=!1,n<o&&(o=n));if(l){t.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[s,r,n]}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,n,o=s[0],l=s[1],i=s[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(i)var c=i(a)}for(e&&e(s);u<o.length;u++)n=o[u],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(c)},s=self["webpackChunkvezba_4_3"]=self["webpackChunkvezba_4_3"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(168)}));s=a.O(s)})();
//# sourceMappingURL=app.a006073d.js.map